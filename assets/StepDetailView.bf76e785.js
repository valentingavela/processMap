import{B as S,a as O,A as T}from"./BackButton.534f7c5e.js";import{A,a as C,b as H}from"./AccordionItem.563fbd2a.js";import{f as v,j as s,R as w,d as x,r as k,q as z,h as P,i as q,a as u,F as U,H as y,T as j,g as B,B as D}from"./index.7eb824de.js";function W(o,e=[]){const a=Object.assign({},o);for(const r of e)r in a&&delete a[r];return a}function _(o){const{loading:e,src:a,srcSet:r,onLoad:t,onError:n,crossOrigin:c,sizes:g,ignoreFallback:f}=o,[d,h]=k.exports.useState("pending");k.exports.useEffect(()=>{h(a?"loading":"pending")},[a]);const l=k.exports.useRef(),b=k.exports.useCallback(()=>{if(!a)return;m();const i=new Image;i.src=a,c&&(i.crossOrigin=c),r&&(i.srcset=r),g&&(i.sizes=g),e&&(i.loading=e),i.onload=p=>{m(),h("loaded"),t?.(p)},i.onerror=p=>{m(),h("failed"),n?.(p)},l.current=i},[a,c,r,g,t,n,e]),m=()=>{l.current&&(l.current.onload=null,l.current.onerror=null,l.current=null)};return z(()=>{if(!f)return d==="loading"&&b(),()=>{m()}},[d,b,f]),f?"loaded":d}var G=(o,e)=>o!=="loaded"&&e==="beforeLoadOrError"||o==="failed"&&e==="onError",I=v(function(e,a){const{htmlWidth:r,htmlHeight:t,alt:n,...c}=e;return s("img",{width:r,height:t,ref:a,alt:n,...c})});I.displayName="NativeImage";var L=v(function(e,a){const{fallbackSrc:r,fallback:t,src:n,srcSet:c,align:g,fit:f,loading:d,ignoreFallback:h,crossOrigin:l,fallbackStrategy:b="beforeLoadOrError",referrerPolicy:m,...i}=e,p=r!==void 0||t!==void 0,F=d!=null||h||!p,N=_({...e,ignoreFallback:F}),R=G(N,b),E={ref:a,objectFit:f,objectPosition:g,...F?i:W(i,["onError","onLoad"])};return R?t||w.createElement(x.img,{as:I,className:"chakra-image__placeholder",src:r,...E}):w.createElement(x.img,{as:I,src:n,srcSet:c,crossOrigin:l,loading:d,referrerPolicy:m,className:"chakra-image",...E})});L.displayName="Image";v((o,e)=>w.createElement(x.img,{ref:e,as:I,className:"chakra-image",...o}));const X=()=>{const o=P(),a=q()(o),r=a.step,t=a.category;return u(U,{children:[u(y,{children:[t.emoji," ",t.name," ","(",s(j,{as:"span",color:"mirgor.purpleHeart",children:t.id}),")"]}),u(B,{width:"100%",justifyContent:"space-between",children:[s(S,{}),s(O,{onClick:()=>V(r.image,r.name),children:"Descargar imagen"})]}),s(D,{paddingBottom:100,width:"100%",children:s(A,{width:"full",defaultIndex:[0],children:u(C,{customTitleHeading:!0,noGrid:!0,children:[s(H,{children:s(Q,{props:a})}),s(L,{maxW:"unset",width:1e3,src:r.image,alt:r.image})]},t.id)})})]})},Q=({props:o})=>{const e=o.phase,a=o.step,r=u(y,{size:"xs",children:[e.emoji," ",e.name," ","(",s(j,{as:"span",color:"mirgor.purpleHeart",children:e.id}),")"]}),t=s(y,{size:"sm",children:a.name});return u(B,{alignItems:"center",children:[r," ",s(T,{})," ",t]})};async function V(o,e){const r=await(await fetch(o)).blob(),t=URL.createObjectURL(r),n=document.createElement("a");n.href=t,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}export{X as default};

import{B as O,a as T,A as C}from"./BackButton.f85af6a8.js";import{f as F,j as s,R as x,e as y,r as k,q as H,h as A,i as z,a as d,F as P,H as v,T as N,b as B,B as q}from"./index.3013e1ee.js";import{A as U,N as I}from"./NewAccordionItem.85881869.js";function D(o,e=[]){const a=Object.assign({},o);for(const r of e)r in a&&delete a[r];return a}function W(o){const{loading:e,src:a,srcSet:r,onLoad:t,onError:n,crossOrigin:c,sizes:g,ignoreFallback:f}=o,[m,h]=k.exports.useState("pending");k.exports.useEffect(()=>{h(a?"loading":"pending")},[a]);const l=k.exports.useRef(),b=k.exports.useCallback(()=>{if(!a)return;u();const i=new Image;i.src=a,c&&(i.crossOrigin=c),r&&(i.srcset=r),g&&(i.sizes=g),e&&(i.loading=e),i.onload=p=>{u(),h("loaded"),t?.(p)},i.onerror=p=>{u(),h("failed"),n?.(p)},l.current=i},[a,c,r,g,t,n,e]),u=()=>{l.current&&(l.current.onload=null,l.current.onerror=null,l.current=null)};return H(()=>{if(!f)return m==="loading"&&b(),()=>{u()}},[m,b,f]),f?"loaded":m}var _=(o,e)=>o!=="loaded"&&e==="beforeLoadOrError"||o==="failed"&&e==="onError",w=F(function(e,a){const{htmlWidth:r,htmlHeight:t,alt:n,...c}=e;return s("img",{width:r,height:t,ref:a,alt:n,...c})});w.displayName="NativeImage";var L=F(function(e,a){const{fallbackSrc:r,fallback:t,src:n,srcSet:c,align:g,fit:f,loading:m,ignoreFallback:h,crossOrigin:l,fallbackStrategy:b="beforeLoadOrError",referrerPolicy:u,...i}=e,p=r!==void 0||t!==void 0,E=m!=null||h||!p,R=W({...e,ignoreFallback:E}),S=_(R,b),j={ref:a,objectFit:f,objectPosition:g,...E?i:D(i,["onError","onLoad"])};return S?t||x.createElement(y.img,{as:w,className:"chakra-image__placeholder",src:r,...j}):x.createElement(y.img,{as:w,src:n,srcSet:c,crossOrigin:l,loading:m,referrerPolicy:u,className:"chakra-image",...j})});L.displayName="Image";F((o,e)=>x.createElement(y.img,{ref:e,as:w,className:"chakra-image",...o}));const M=()=>{const o=A(),a=z()(o),r=a.step,t=a.category;return d(P,{children:[d(v,{children:[t.emoji," ",t.name," ","(",s(N,{as:"span",color:"mirgor.purpleHeart",children:t.id}),")"]}),d(B,{width:"100%",justifyContent:"space-between",children:[s(O,{}),s(T,{onClick:()=>V(r.image,r.name),children:"Descargar imagen"})]}),s(q,{paddingBottom:100,width:"100%",children:s(U,{width:"full",defaultIndex:[0],children:d(I,{children:[s(I.Title,{customTitleHeading:!0,children:s(Q,{props:a})}),d(I.Items,{children:[s(L,{maxW:"unset",width:1e3,src:r.image,alt:r.image})," "]})]},t.id)})})]})},Q=({props:o})=>{const e=o.phase,a=o.step,r=d(v,{size:"xs",children:[e.emoji," ",e.name," ","(",s(N,{as:"span",color:"mirgor.purpleHeart",children:e.id}),")"]}),t=s(v,{size:"sm",children:a.name});return d(B,{alignItems:"center",children:[r," ",s(C,{})," ",t]})};async function V(o,e){const r=await(await fetch(o)).blob(),t=URL.createObjectURL(r),n=document.createElement("a");n.href=t,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}export{M as default};
